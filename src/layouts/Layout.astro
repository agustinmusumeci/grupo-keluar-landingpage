---
import { ViewTransitions } from 'astro:transitions';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<!-- <meta name="msapplication-TileImage" content="https://keluar.com.ar/images/icono/apple-touch-icon.png">
		<meta name="theme-color" content="#214433">
		<meta property="og:title" content="KELUAR | Constructora SteelFrame">
		<meta property="og:image" content="https://keluar.com.ar/images/logo/og-logo-nuevo.jpg">
		<meta property="og:url" content="https://keluar.com.ar">
		<meta property="og:type" content="website">
		<meta property="og:site_name" content="KELUAR | Constructora SteelFrame">
		<meta property="og:description" content="Constructora SteelFrame en Córdoba">
		<link rel="apple-touch-icon" sizes="180x180" href="https://keluar.com.ar/images/icono/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="https://keluar.com.ar/images/icono/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="https://keluar.com.ar/images/icono/favicon-16x16.png">
		<link rel="manifest" href="https://keluar.com.ar/images/icono/site.webmanifest"> -->
				
		<title>{title}</title>
		<ViewTransitions />
	</head>
	<body>
		<Header logo='./images/logos/keluar-logo.png'/>
		<main class="transition-all duration-300">
			<slot />
		</main>
		<Footer logo="./images/logos/keluar-logo-blanco.svg"/>

		
	</body>
</html>

<style is:global>

	html {
		scroll-behavior: smooth;
	}

	@font-face {
    	font-family: "TT Firs Neue Regular";
    	src: url("../fonts/TTFirsNeue-Regular.otf");
    	font-weight: normal;
    	font-style: normal;
    	font-display: swap;
	}

	@font-face {
    	font-family: "TT Firs Neue Medium";
    	src: url("../fonts/TTFirsNeue-Medium.otf");
    	font-weight: medium;
    	font-style: normal;
    	font-display: swap;
	}

	@font-face {
    	font-family: "TT Firs Neue Light";
    	src: url("../fonts/TTFirsNeue-Light.otf");
    	font-weight: light;
    	font-style: normal;
    	font-display: swap;
	}

	@font-face {
    	font-family: "TT Firs Neue ExtraLight";
    	src: url("../fonts/TTFirsNeue-ExtraLight.otf");
    	font-weight: lighter;
    	font-style: normal;
    	font-display: swap;
	}

	@font-face {
    	font-family: "TT Firs Neue Bold";
    	src: url("../fonts/TTFirsNeue-Bold.otf");
    	font-weight: bold;
    	font-style: normal;
    	font-display: swap;
	}

	.xl-title {
    	@apply font-keluar_medium uppercase leading-[1.2] tracking-wide;
		font-size: clamp(1.855rem, 1.458rem + 1.6937vw, 2.65rem);
	}

	.md-title {
		font-size: clamp(1rem, 0.8253rem + 0.9587vw, 1.45rem);
	}

	.sm-title {
		@apply uppercase;
		font-size: clamp(0.56rem, 0.4402rem + 0.5113vw, 0.8rem);
	}

	.xl-content {
		@apply font-bold uppercase leading-[1.25] tracking-wide;
		font-size: clamp(1.715rem, 1.348rem + 1.5659vw, 2.45rem);
	}

	.md-content {		
		@apply leading-[1.25];

		font-size: clamp(0.98rem, 0.7703rem + 0.8948vw, 1.4rem);
	}

	.sm-content {
		@apply font-keluar_light text-sm;

		font-size: clamp(0.6125rem, 0.4814rem + 0.5593vw, 0.875rem);
	}

	/* evita el glow azul al ser clickeado un elemento */
	.noSelect {
		-webkit-tap-highlight-color: transparent;
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	.noSelect:focus {
		outline: none !important;
	}

	.hover {
		@apply hover:underline decoration-keluar decoration-2 underline-offset-[5px] min-[900px]:decoration-4 min-[900px]:underline-offset-[32.5px] ;
	}

	.bottom-line {
		@apply underline decoration-white/20  underline-offset-[30px]
	}
	
	.carrousel {
		@apply grid grid-flow-col overflow-x-hidden auto-cols-[100%] min-[1126px]:auto-cols-[32%] ;

		overscroll-behavior-inline: contain;
	}

	.snaps-inline {
		scroll-snap-type: x mandatory;
	}

	.snaps-inline > * {
		scroll-snap-align: start;
	}

	.container {
		@apply max-w-[90vw] mx-auto min-[1126px]:max-w-[1126px] ;
	}

	.header-container {
		@apply max-w-[90vw] mx-auto min-[1126px]:max-w-[1126px] ;
	}

	.title {
		height: 100%;
		cursor: pointer;
		transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1)
		}

	.content {
		opacity: 0;
		position: absolute;
		/* width: inherit; */
		padding-top: 1rem;
		height: 100%;
		display: flex;
		pointer-events: none;
  		transform: translateY(-96%);
  		transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
	}

	.title:hover .content {
		transform: translateX(0);
	}

	.titles:hover > .title:not(:hover) {
		opacity: 0;
	}

	.title:hover {
  		transform: translateY(-45%);
	}

	.title:hover > .content {
		opacity: 100%;
	}
</style>

<script is:inline>
    // juego de diseño
	function cambiarImagen() {
		
		// selecciono las imagenes a cambiar
		const img = document.getElementById("render2");
		const img2 = document.getElementById("render");
		const lupa = document.getElementById("lupa");
		const cargador = document.getElementById("cargador");

		img.setAttribute("alt", nuevaImagen.alt);
		img2.setAttribute("alt", nuevaImagen.alt);
		lupa.setAttribute("alt", "Mas Información");
		lupa.setAttribute("href", nuevaImagen.src);
		cargador.style.display = "none";

		// efecto de desvanecido
		img.src = nuevaImagen.src;
		img.style.opacity = "0";
		opacidad = 0.1;

		var intervalo = setInterval(function() {   
		opacidad += 0.1;
		img.style.opacity = opacidad;

		if (img.style.opacity == 1) {
      	//console.log("fin intervalo");
			clearInterval(intervalo);
			img2.src = img.src;      
			}
		}, 100);
	}

	function onCambio(e) {

		let t = e.target;

		const REVESTIMIENTO = {
			chapa: "Chapas Acanaladas",
			revoque: "Revoque ElastomÃ©rico",
			piedra: "Simil Priedra",
			siding: "Siding Cedral"
		}

		switch (t.name) {
			case "colores":
			case "revestimientos":

			// selecciono los input checkbox
			cargador.style.display = "flex";
			let ter = document.querySelector('input[name="revestimientos"]:checked');
			let col = document.querySelector('input[name="colores"]:checked');

			// cambio su alt
			let alt = REVESTIMIENTO[ter.value] + " | Color: " + col.value;

			// cambio su ruta
			let rutaNuevaImagen = col.value + "-" + ter.value + "-" + "dia.jpg";
      		//console.log(rutaNuevaImagen);

			// seteo la imagen con la ruta y el alt
			nuevaImagen = new Image();
			nuevaImagen.onload = cambiarImagen;
			nuevaImagen.src = "images/juego/"+rutaNuevaImagen;
			nuevaImagen.alt = alt;
      		//cambiarImagen(nuevaImagen);

			break;

		default:
			break;
		}
	}

	window.addEventListener("change", onCambio);

	// desplegar navbar hamburgesa en movil
	const toggleHamb = () => {
		
		const hamb = document.querySelector(".hamburger")
		const nav = document.querySelector(".nav")
		const bg = document.querySelector(".bg")

		if (hamb.name == "menu") {
			hamb.name = "close";
			nav.classList.remove("opacity-0");
			bg.classList.remove("-translate-y-full");
		} else {
			hamb.name = "menu";
			nav.classList.add("opacity-0")
			bg.classList.add("-translate-y-full")
		}
	}

	// scroll hacia la izquierda en carrousel
	const slideLeft = () => {
		let slider = document.getElementById("slider");
		slider.scrollLeft = slider.scrollLeft - 500;
	};

	// scroll hacia la derecha en carrousel
	const slideRight = () => {
		let slider = document.getElementById("slider");
		slider.scrollLeft = slider.scrollLeft + 500;
	};
</script>